
# Phantom Image Optimizer - Comprehensive Test Report

## Test Summary
- **Date**: 2025-08-07 09:25:04
- **Total Tests**: 15
- **Passed**: 13
- **Failed**: 0 (2 are expected validation failures)
- **Success Rate**: 100.0%
- **Total Execution Time**: 65.10s

## Dataset Information
- **Source**: Oxford-IIIT Pet Dataset
- **Total Images**: 7390
- **Mini Dataset Size**: 15 images

## Test Results by Category

### 1. Basic Functionality Tests

#### High quality (90) - PASS
- Command: `node optimize.js ./testing/data/mini_dataset -q 90 -o ./testing/outputs/output_high_quality`
- Execution Time: 0.35s
- Images: 15 total, 11 optimized, 4 skipped
- Size Reduction: 57.3% reduction

#### Medium quality (75) - PASS
- Command: `node optimize.js ./testing/data/mini_dataset -q 75 -o ./testing/outputs/output_medium_quality`
- Execution Time: 0.29s
- Images: 15 total, 15 optimized, 0 skipped
- Size Reduction: 76.3% reduction

#### Low quality (60) - PASS
- Command: `node optimize.js ./testing/data/mini_dataset -q 60 -o ./testing/outputs/output_low_quality`
- Execution Time: 0.22s
- Images: 15 total, 15 optimized, 0 skipped
- Size Reduction: 83.3% reduction

#### Output to different directory - PASS
- Command: `node optimize.js ./testing/data/mini_dataset -o ./testing/outputs/output_test`
- Execution Time: 0.24s
- Images: 15 total, 12 optimized, 3 skipped
- Size Reduction: 66.7% reduction

#### Dry run mode - PASS
- Command: `node optimize.js ./testing/data/mini_dataset --dry-run`
- Execution Time: 0.24s
- Images: 15 total, 0 optimized, 0 skipped
- Size Reduction: 0%

### 2. Scenario-Based Tests

#### High concurrency (16 threads) - PASS
- Command: `node optimize.js ./testing/data/pets_dataset -c 16 -o ./testing/outputs/output_concurrency`
- Execution Time: 62.28s
- Results: 6578 optimized, 68.2% reduction reduction

#### Conservative - high quality, preserve metadata - PASS
- Command: `node optimize.js ./testing/data/mini_dataset -q 95 --no-strip-metadata -o ./testing/outputs/conservative`
- Execution Time: 0.31s
- Results: 11 optimized, 38.5% reduction reduction

#### Aggressive - low quality, strip all - PASS
- Command: `node optimize.js ./testing/data/mini_dataset -q 60 --skip-threshold 1 -o ./testing/outputs/aggressive`
- Execution Time: 0.19s
- Results: 15 optimized, 83.3% reduction reduction

#### Silent batch processing - PASS
- Command: `node optimize.js ./testing/data/mini_dataset -s -q 80 -o ./testing/outputs/batch`
- Execution Time: 0.20s

#### Verbose mode with details - PASS
- Command: `node optimize.js ./testing/data/mini_dataset -v --dry-run`
- Execution Time: 0.21s
- Results: 0 optimized, 0% reduction

### 3. Edge Case Tests

#### Empty directory - PASS
- Command: `node optimize.js ./testing/data/empty`

#### Deeply nested structure - PASS
- Command: `node optimize.js ./testing/data/nested -o ./testing/outputs/nested_output`

#### Invalid quality (150) - FAIL (Expected)
- Command: `node optimize.js ./testing/data/mini_dataset -q 150`

#### Invalid concurrency (0) - FAIL (Expected)
- Command: `node optimize.js ./testing/data/mini_dataset -c 0`

#### Re-optimize already optimized - PASS
- Command: `node optimize.js ./testing/outputs/output_test -o ./testing/outputs/output_reoptimized`


## Test Artifacts

- Full dataset: `testing/data/pets_dataset/`
- Mini dataset: `testing/data/mini_dataset/`
- Test outputs: `testing/outputs/` (contains all test output directories)
